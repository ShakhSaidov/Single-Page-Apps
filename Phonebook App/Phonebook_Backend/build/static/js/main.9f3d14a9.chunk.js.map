{"version":3,"sources":["components/Search.js","components/ContactForm.js","components/Contacts.js","services/phonebook.js","App.js","index.js"],"names":["Search","props","value","onChange","handleSearchChange","ContactForm","onSubmit","addName","name","nameChange","number","numberChange","type","Contacts","contacts","handleDelete","map","contact","onClick","baseUrl","axios","get","then","response","data","newPerson","post","id","person","put","delete","Message","message","error","className","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","newSearch","setNewSearch","setMessage","setError","filter","toLowerCase","includes","useEffect","contactService","people","e","target","preventDefault","find","p","some","window","confirm","changedPerson","returnedPerson","setTimeout","catch","concat","event","contactToDelete","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.9f3d14a9.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Search = (props) => {\r\n  return(\r\n    <div>\r\n      Contacts shown with <input value={props.value} onChange={props.handleSearchChange}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Search","import React from 'react'\r\n\r\nconst ContactForm = (props) => {\r\n  return (\r\n    <form onSubmit={props.addName}>\r\n      <div>\r\n        name: <input value={props.name} onChange={props.nameChange} />\r\n      </div>\r\n      <div>\r\n        number: <input value={props.number} onChange={props.numberChange} />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default ContactForm","import React from 'react'\r\n\r\nconst Contacts = ({contacts, handleDelete}) => {\r\n  return(\r\n    contacts.map(contact =>\r\n      <div key={contact.name} onClick={handleDelete}>\r\n        {contact.name} {contact.number}\r\n        <button type=\"button\" value={contact.name}>delete</button>\r\n      </div>)\r\n  )\r\n}\r\n\r\nexport default Contacts","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst add = newPerson => {\r\n  const request = axios.post(baseUrl, newPerson)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, person) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, person)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst remove = id => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nexport default {getAll, add, update, remove}","import React, { useState, useEffect } from 'react'\r\nimport Search from './components/Search'\r\nimport ContactForm from './components/ContactForm'\r\nimport Contacts from './components/Contacts'\r\nimport contactService from './services/phonebook'\r\n\r\nconst Message = ({ message, error }) => {\r\n  if (message === null) {\r\n    return (\r\n      null\r\n    )\r\n  }\r\n  else if (error) {\r\n    return (\r\n      <div className=\"error\">\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n  else {\r\n    return (\r\n      <div className=\"non-error\">\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([])\r\n  const [newName, setNewName] = useState('')\r\n  const [newNumber, setNewNumber] = useState('')\r\n  const [newSearch, setNewSearch] = useState('')\r\n  const [message, setMessage] = useState(null)\r\n  const [error, setError] = useState(false)\r\n\r\n  const contacts = persons.filter(person =>\r\n    person.name.toLowerCase().includes(newSearch.toLowerCase()))\r\n\r\n  const hook = () => {\r\n    contactService\r\n      .getAll()\r\n      .then(people => {\r\n        setPersons(people)\r\n      })\r\n  }\r\n  useEffect(hook, [])\r\n\r\n  const addName = e => {\r\n    e.preventDefault();\r\n    const contact = persons.find(p => p.name === newName)\r\n    if (persons.some(person => person.name === newName)) {\r\n      if (window.confirm(`${newName} is already added to phonebook! Do you want to replace the old number with a new one?`)) {\r\n        const changedPerson = { ...contact, number: newNumber }\r\n        const id = contact.id\r\n        contactService\r\n          .update(id, changedPerson)\r\n          .then(returnedPerson => {\r\n            setPersons(persons.map(p => p.id !== id ? p : returnedPerson))\r\n            setNewName('')\r\n            setNewNumber('')\r\n            setMessage(\r\n              `New number put for ${newName}`\r\n            )\r\n            setTimeout(() => {\r\n              setMessage(null)\r\n            }, 5000)\r\n          })\r\n          .catch(error => {\r\n            setMessage(\r\n              `Information of '${newName}' has already been removed from server`\r\n            )\r\n            setError(true)\r\n            setTimeout(() => {\r\n              setMessage(null)\r\n              setError(false)\r\n            }, 5000)\r\n          })\r\n      }\r\n    } else {\r\n      const nameObject = {\r\n        name: newName,\r\n        number: newNumber\r\n      }\r\n\r\n      contactService\r\n        .add(nameObject)\r\n        .then(returnedPerson => {\r\n          setPersons(persons.concat(returnedPerson))\r\n          setNewName('')\r\n          setNewNumber('')\r\n          setMessage(\r\n            `Added ${newName} to the phonebook`\r\n          )\r\n          setTimeout(() => {\r\n            setMessage(null)\r\n          }, 5000)\r\n        })\r\n        .catch(error => {\r\n          setMessage(\r\n            error.response.data.error\r\n          )\r\n          setError(true)\r\n          setTimeout(() => {\r\n            setMessage(null)\r\n            setError(false)\r\n          }, 5000)\r\n          setPersons(persons.filter(p => p.id !== contact.id))\r\n        })\r\n    }\r\n  }\r\n\r\n  const handleSearchChange = (e) => {\r\n    setNewSearch(e.target.value)\r\n  }\r\n\r\n  const handleNameChange = (e) => {\r\n    setNewName(e.target.value)\r\n  }\r\n\r\n  const handleNumberChange = (e) => {\r\n    setNewNumber(e.target.value)\r\n  }\r\n\r\n  const handleDelete = (e) => {\r\n    e.preventDefault()\r\n    const contactToDelete = persons.find(person => person.name === e.target.value)\r\n    if (window.confirm(`Delete ${contactToDelete.name} ?`)) {\r\n      contactService\r\n        .remove(contactToDelete.id)\r\n        .then(() =>\r\n          setMessage(\r\n            `Removed ${contactToDelete.name} from the phonebook`\r\n          ),\r\n          setTimeout(() => {\r\n            setMessage(null)\r\n          }, 5000),\r\n          setPersons(persons.filter(p =>\r\n            p.id !== contactToDelete.id\r\n          ))\r\n        )\r\n\r\n\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Message message={message} error={error} />\r\n      <h2>Phonebook</h2>\r\n      <Search value={newSearch} handleSearchChange={handleSearchChange} />\r\n\r\n      <h3>Add Contact</h3>\r\n      <ContactForm addName={addName} name={newName} nameChange={handleNameChange}\r\n        number={newNumber} numberChange={handleNumberChange} />\r\n\r\n      <h3>Contacts</h3>\r\n      <Contacts contacts={contacts} handleDelete={(event) => handleDelete(event)} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}