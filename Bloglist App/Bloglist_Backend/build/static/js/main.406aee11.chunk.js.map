{"version":3,"sources":["components/blog.js","services/blogs.js","services/login.js","components/login.js","components/newBlog.js","components/toggleable.js","App.js","index.js"],"names":["Details","blog","handleLikes","handleRemoval","href","url","target","rel","likes","onClick","event","id","author","Blog","number","useState","show","setShow","className","title","token","getAll","axios","get","then","response","data","create","newObject","a","config","headers","Authorization","post","update","put","setToken","newToken","remove","delete","login","credentials","handleLogin","handleUsernameChange","handlePasswordChange","username","password","onSubmit","type","value","name","onChange","NewBlogForm","handleNewBlog","setTitle","setAuthor","setUrl","preventDefault","console","log","Togglable","React","forwardRef","props","ref","visible","setVisible","hideWhenVisible","display","showWhenVisible","toggleVisibility","useImperativeHandle","style","buttonLabel","children","Notification","message","error","App","blogs","setBlogs","setUsername","setPassword","user","setUser","setMessage","errorState","setErrorState","likesChanged","setLikesChanged","blogFormRef","useRef","useEffect","blogService","sort","b","filter","loggedUserJSON","window","localStorage","getItem","JSON","parse","loginService","setItem","stringify","setTimeout","handleLogout","removeItem","blogToUpdate","find","updatedBlog","map","blogToRemove","confirm","newBlogForm","newBlogObject","current","returnedBlog","concat","index","key","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.406aee11.chunk.js","sourcesContent":["import React, { useState } from 'react'\r\nimport '../App.css'\r\nimport PropTypes from 'prop-types'\r\n\r\nconst Details = ({blog, handleLikes, handleRemoval}) => {\r\n  return(\r\n    <div>\r\n      <div><a href={blog.url} target=\"_blank\" rel=\"noopener noreferrer\">{blog.url}</a></div>\r\n      <div>\r\n        Likes: {blog.likes}\r\n        <button onClick={(event) => handleLikes(event, blog.id)}>like</button>\r\n      </div>\r\n      <div>By: {blog.author}</div>\r\n      <button onClick={(event) => handleRemoval(event, blog.id)}>remove</button>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst Blog = ({ blog, number, handleLikes, handleRemoval}) => {\r\n  const [show, setShow] = useState(false)\r\n\r\n  const handleBlogDetails = () => {\r\n    setShow(!show)\r\n  }\r\n\r\n  return (\r\n    <div className=\"BlogStyle\">\r\n      <div>\r\n        <b>{number}.</b> {blog.title}\r\n        <button className=\"SmallToggleButton\" onClick={handleBlogDetails}>\r\n          {show ? 'hide' : 'show'}\r\n        </button>\r\n      </div>\r\n      {show\r\n        ? <Details blog={blog} handleLikes={handleLikes} handleRemoval={handleRemoval}/>\r\n        : null\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nBlog.propTypes = {\r\n  blog: PropTypes.object.isRequired,\r\n  number: PropTypes.number.isRequired,\r\n  handleLikes: PropTypes.func.isRequired,\r\n  handleRemoval: PropTypes.func.isRequired\r\n}\r\n\r\nexport default Blog\r\n","import axios from 'axios'\r\nconst baseUrl = '/api/blogs'\r\n\r\nlet token = null\r\nconst setToken = newToken => {\r\n  token = `bearer ${newToken}`\r\n}\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = async newObject => {\r\n  const config = {\r\n    headers: { Authorization: token},\r\n  }\r\n\r\n  const response = await axios.post(baseUrl, newObject, config)\r\n  return response.data\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n  const config = {\r\n    headers: { Authorization: token},\r\n  }\r\n\r\n  const response = axios.delete(`${baseUrl}/${id}`, config)\r\n  return response.data\r\n}\r\n\r\nexport default { getAll, create, update, setToken, remove }","import axios from 'axios'\r\nconst baseUrl = 'api/login'\r\n\r\nconst login = async credentials => {\r\n  const response = await axios.post(baseUrl, credentials)\r\n  return response.data\r\n}\r\n\r\nexport default { login }","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nconst login = ({\r\n  handleLogin,\r\n  handleUsernameChange,\r\n  handlePasswordChange,\r\n  username,\r\n  password\r\n}) => {\r\n  return (\r\n    <div className=\"Centralized\">\r\n      <h2>Bloglist Login</h2>\r\n      <form onSubmit={handleLogin}>\r\n        <div>\r\n          <label>Username:</label>\r\n          <input\r\n            type=\"text\"\r\n            value={username}\r\n            name=\"Username\"\r\n            onChange={handleUsernameChange}\r\n          />\r\n        </div>\r\n        <div>\r\n          <label>Password:</label>\r\n          <input\r\n            type=\"password\"\r\n            value={password}\r\n            name=\"Password\"\r\n            onChange={handlePasswordChange}\r\n          />\r\n        </div>\r\n        <button className=\"LoginButton\" type=\"submit\">Login </button>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nlogin.propTypes = {\r\n  handleLogin: PropTypes.func.isRequired,\r\n  handleUsernameChange: PropTypes.func.isRequired,\r\n  handlePasswordChange: PropTypes.func.isRequired,\r\n  username: PropTypes.string.isRequired,\r\n  password: PropTypes.string.isRequired\r\n}\r\n\r\nexport default login","import React, {useState} from 'react'\r\n\r\nconst NewBlogForm = ({ handleNewBlog }) => {\r\n  const [title, setTitle] = useState('')\r\n  const [author, setAuthor] = useState('')\r\n  const [url, setUrl] = useState('')\r\n\r\n  const addBlog = (event) => {\r\n    event.preventDefault()\r\n    console.log(\"Current Title: \", title);\r\n    console.log(\"Current Author: \", author);\r\n    console.log(\"Current Url: \", url);\r\n    handleNewBlog({\r\n      title: title,\r\n      author: author,\r\n      url: url,\r\n    })\r\n\r\n    setAuthor('')\r\n    setTitle('')\r\n    setUrl('')\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <form onSubmit={addBlog}>\r\n        <div>\r\n          <label>Title:</label>\r\n          <input\r\n            type=\"text\"\r\n            value={title}\r\n            name=\"Title\"\r\n            onChange={({ target }) => setTitle(target.value)}\r\n          />\r\n        </div>\r\n        <div>\r\n          <label>Author:</label>\r\n          <input\r\n            type=\"text\"\r\n            value={author}\r\n            name=\"Author\"\r\n            onChange={({ target }) => setAuthor(target.value)}\r\n          />\r\n        </div>\r\n        <div>\r\n          <label>Url:</label>\r\n          <input\r\n            type=\"text\"\r\n            value={url}\r\n            name=\"Url\"\r\n            onChange={({ target }) => setUrl(target.value)}\r\n          />\r\n        </div>\r\n        <button type=\"submit\">Create</button>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default NewBlogForm","import React, {useState, useImperativeHandle} from 'react'\r\nimport '../App.css'\r\nimport PropTypes from 'prop-types'\r\n\r\nconst Togglable = React.forwardRef((props, ref) => {\r\n  const [visible, setVisible] = useState(false)\r\n\r\n  const hideWhenVisible = { display: visible ? 'none' : '' }\r\n  const showWhenVisible = { display: visible ? '' : 'none' }\r\n\r\n  const toggleVisibility = () => {\r\n    setVisible(!visible)\r\n  }\r\n\r\n  useImperativeHandle(ref, () => {\r\n    return {toggleVisibility}\r\n  })\r\n\r\n  return (\r\n    <div>\r\n      <div style={hideWhenVisible}>\r\n        <button className=\"ToggleButton\" onClick={toggleVisibility}>{props.buttonLabel}</button>\r\n      </div>\r\n      <div style={showWhenVisible}>\r\n        {props.children}\r\n        <button className=\"ToggleButton\" onClick={toggleVisibility}>cancel</button>\r\n      </div>\r\n    </div>\r\n  )\r\n})\r\n\r\nTogglable.propTypes = {\r\n  buttonLabel: PropTypes.string.isRequired\r\n}\r\n\r\nexport default Togglable","import React, { useState, useEffect, useRef } from 'react'\r\nimport Blog from './components/blog'\r\nimport blogService from './services/blogs'\r\nimport loginService from './services/login'\r\nimport Login from './components/login'\r\nimport NewBlog from './components/newBlog'\r\nimport Togglable from './components/toggleable'\r\nimport \"./App.css\"\r\n\r\nconst Notification = ({ message, error }) => {\r\n  if (message === null) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {error === true\r\n        ? <div className=\"error\">{message}</div>\r\n        : <div className=\"notification\">{message}</div>\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nconst App = () => {\r\n  const [blogs, setBlogs] = useState([])\r\n  const [username, setUsername] = useState('')\r\n  const [password, setPassword] = useState('')\r\n  const [user, setUser] = useState(null)\r\n  const [message, setMessage] = useState(null)\r\n  const [errorState, setErrorState] = useState(false)\r\n  const [likesChanged, setLikesChanged] = useState(false)\r\n\r\n  const blogFormRef = useRef()\r\n\r\n  //effect for showing the blogs for the right user\r\n  useEffect(() => {\r\n    blogService.getAll().then(blogs =>\r\n      user === null\r\n        ? setBlogs(blogs.sort((a, b) => b.likes - a.likes))\r\n        : setBlogs(blogs\r\n          .filter(blog => blog.user.username === user.username)\r\n          .sort((a, b) => b.likes - a.likes))\r\n    )\r\n\r\n    setLikesChanged(false)\r\n  }, [user, likesChanged])\r\n\r\n  //effect for setting the user after login\r\n  useEffect(() => {\r\n    const loggedUserJSON = window.localStorage.getItem('loggedUser')\r\n    if (loggedUserJSON) {\r\n      const user = JSON.parse(loggedUserJSON)\r\n      setUser(user)\r\n      blogService.setToken(user.token)\r\n    }\r\n  }, [])\r\n\r\n\r\n  //function that shows the login form\r\n  const loginForm = () => (\r\n    <Togglable buttonLabel='login'>\r\n      <Login\r\n        username={username}\r\n        password={password}\r\n        handleUsernameChange={({ target }) => setUsername(target.value)}\r\n        handlePasswordChange={({ target }) => setPassword(target.value)}\r\n        handleLogin={handleLogin}\r\n      />\r\n    </Togglable>\r\n  )\r\n\r\n  //function to handle login\r\n  const handleLogin = async (event) => {\r\n    event.preventDefault();\r\n\r\n    try {\r\n      const user = await loginService.login({ username, password })\r\n\r\n      window.localStorage.setItem('loggedUser', JSON.stringify(user))\r\n      blogService.setToken(user.token)\r\n\r\n      setUser(user)\r\n      setUsername('')\r\n      setPassword('')\r\n    } catch (error) {\r\n      setMessage('Wrong username or password')\r\n      setErrorState(true)\r\n      setTimeout(() => {\r\n        setMessage(null)\r\n        setErrorState(false)\r\n      }, 5000)\r\n    }\r\n  }\r\n\r\n  //function to handle logout\r\n  const handleLogout = async (event) => {\r\n    event.preventDefault();\r\n\r\n    window.localStorage.removeItem('loggedUser')\r\n    blogService.setToken(null)\r\n    setUser(null)\r\n  }\r\n\r\n  //function that increases the likes of a blog\r\n  const handleLikes = async (event, id) => {\r\n    event.preventDefault();\r\n    const blogToUpdate = blogs.find(blog => blog.id === id)\r\n\r\n    const updatedBlog = {\r\n      ...blogToUpdate,\r\n      likes: blogToUpdate.likes + 1,\r\n      user: blogToUpdate.user.id,\r\n    }\r\n\r\n    try {\r\n      const response = await blogService.update(id, updatedBlog)\r\n      setBlogs(blogs.map(blog => blog.id === id ? response : blog))\r\n      setLikesChanged(true)\r\n    } catch (error) {\r\n      setMessage(`${error}`)\r\n      setErrorState(true)\r\n      setTimeout(() => {\r\n        setMessage(null)\r\n        setErrorState(false)\r\n      }, 5000)\r\n    }\r\n  }\r\n\r\n  //function that remove a blog\r\n  const handleRemoval = async (event, id) => {\r\n    event.preventDefault()\r\n    const blogToRemove = blogs.find(blog => blog.id === id)\r\n\r\n    if (window.confirm(`Do you really want to remove the blog \"${blogToRemove.title}\" by ${blogToRemove.author}?`)) {\r\n      try {\r\n        await blogService.remove(id)\r\n        setMessage(`Blog \"${blogToRemove.title}\" by ${blogToRemove.author} has been removed`)\r\n      } catch (error) {\r\n        setMessage(\"Could not remove the blog for some reason.\")\r\n        console.log(error);\r\n        setErrorState(true)\r\n      }\r\n\r\n      setTimeout(() => {\r\n        setMessage(null)\r\n        setErrorState(false)\r\n      }, 5000)\r\n      setBlogs(blogs.filter(blog => blog.id !== id))\r\n    }\r\n  }\r\n\r\n  //function that shows the blogs\r\n  const blogForm = () => (\r\n    <div>\r\n      <div className=\"Centralized\">\r\n        <form onSubmit={handleLogout}>\r\n          <button className=\"LoginButton\" type=\"submit\">Logout </button>\r\n        </form>\r\n      </div>\r\n      <h2 className=\"Centralized\">Blogs by {user.username}</h2>\r\n      {blogs.map((blog, index) =>\r\n        <Blog\r\n          key={blog.id}\r\n          blog={blog}\r\n          number={index + 1}\r\n          handleLikes={handleLikes}\r\n          handleRemoval={handleRemoval}\r\n        />\r\n      )}\r\n      {newBlogForm()}\r\n    </div>\r\n  )\r\n\r\n  //function that shows a form where you can add new blogs\r\n  const newBlogForm = () => (\r\n    <Togglable buttonLabel=\"Add New Blog\" ref={blogFormRef}>\r\n      <h3>Add New Blog</h3>\r\n      <NewBlog handleNewBlog={handleNewBlog} />\r\n    </Togglable>\r\n  )\r\n\r\n  //function to add a new blog\r\n  const handleNewBlog = async (newBlogObject) => {\r\n    blogFormRef.current.toggleVisibility()\r\n    console.log(newBlogObject);\r\n    try {\r\n      const returnedBlog = await blogService.create(newBlogObject)\r\n      setBlogs(blogs.concat(returnedBlog))\r\n      setMessage(`New Blog: ${newBlogObject.title} by ${newBlogObject.author} has been added`)\r\n    } catch (error) {\r\n      setMessage(\"Could not add the blog. Make sure the content meets the requirement of each\")\r\n      setErrorState(true)\r\n    }\r\n    setTimeout(() => {\r\n      setMessage(null)\r\n      setErrorState(false)\r\n    }, 5000)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Notification message={message} error={errorState} />\r\n      {user === null\r\n        ? loginForm()\r\n        : blogForm()\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App'\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}